
var swiper = new Swiper(".reviews__swiper", {
    slidesPerView: "auto",
    spaceBetween: 16,
    loop: true,
    breakpoints: {
        0: {
            spaceBetween: 8,
        },
        600: {
            spaceBetween: 8,
        },
        1024: {
            spaceBetween: 16,
        }
    }
});

var swiperCatalog = new Swiper(".catalog__swiper .swiper", {
    slidesPerView: "auto",
});

var swiperRec = new Swiper(".recomended__swiper", {
    slidesPerView: "auto",
    loop: true
});


const clousDropDowns = () => {
    let allDropDowns = document.getElementsByClassName("dropdown")
    if (allDropDowns.length) {
        for (let i = 0; i < allDropDowns.length; i++) {
            allDropDowns[i].style.height = "0"
            document.getElementById("body").style.overflow = "auto"
        }
    }
}


const setHeigth = (id) => {
    let conainer = document.getElementById(id)
    let top = document.getElementById("header").offsetHeight
    document.getElementById(id).style.height = `calc(100vh - ${top}px)`
    conainer.style.height = `calc(100vh - ${top}px)`
    conainer.style.top = `${top}px`
    document.getElementById("body").style.overflow = "hidden"
}

const activeBtn = (e) => {
    if(e.classList.contains("active")) {
        return e.classList.remove("active")
    }else {
        return e.classList.add("active")
    }
}

const toggleDropwDown = (id) => {
    clousDropDowns()
    if (id) {
        let conainer = document.getElementById(id)
        if (conainer.offsetHeight < 10) {
            setHeigth(id)
        } else {
            document.getElementById("body").style.overflow = "auto"
            conainer.style.height = "0"
        }
    }
}

const showPortfolio = (e) => {
    let container = document.getElementById("portfolio-gallery")
    for (let i = 0; i < container.children.length; i++) {
        container.children[i].style.display = "block"
    }
    e.style.display = "none"
}

let headerHeight = document.getElementById("header").offsetHeight
const toggleFiltrModal = (id) => {
    if (id) {
        let container = document.getElementById(id)
        if (container.offsetHeight < 57) {
            container.style.height = `calc(100vh - ${headerHeight + 50}px)`
            container.children[0].classList.add("active")
            document.getElementById("body").style.overflow = "hidden"
        } else {
            document.getElementById("body").style.overflow = "auto"
            container.children[0].classList.remove("active")
            container.style.height = "56px"
        }
    }
}

$(".link").on('click', function () {
    let name = $(this).attr('data-name')
    $('html, body').animate({
        scrollTop: $("#" + name).position().top - headerHeight
    }, 500);
});

